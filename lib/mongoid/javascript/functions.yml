aggregate:
  "if (prev.aggregate == 'start') {
     prev.aggregate = 0;
   }
   prev.aggregate++;"

aggregate_finalize:
  "if (obj.aggregate == 'start' || isNaN(obj.aggregate)) {
     obj.aggregate = 0;
   }
   return obj;"

group:
  "prev.group.push(obj);"

max:
  "if (obj.[field] && prev.max == 'start') {
     prev.max = obj.[field];
   }
   if (obj.[field] && prev.max < obj.[field]) {
     prev.max = obj.[field];
   }"

max_finalize:
  "if (obj.max == 'start' || isNaN(obj.max)) {
     obj.max = 0;
   }
   return obj;"

min:
  "if (obj.[field] && prev.min == 'start') {
     prev.min = obj.[field];
   }
   if (obj.[field] && prev.min > obj.[field]) {
     prev.min = obj.[field];
   }"

min_finalize:
  "if (obj.min == 'start' || isNaN(obj.min)) {
     obj.min = 0;
   }
   return obj;"

sum:
  "if (prev.sum == 'start') {
     prev.sum = 0;
   }
   if (obj.[field]) {
     prev.sum += obj.[field];
   }"

sum_finalize:
  "if (obj.sum == 'start' || isNaN(obj.sum)) {
     obj.sum = 0;
   }
   return obj;"
